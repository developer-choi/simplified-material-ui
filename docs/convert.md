# Convert 프로세스

## 목적

간소화된 컴포넌트 코드를 사용자의 프로젝트에 맞게 변환하여 적용합니다.

---

## 전제 조건: 이해도 검증 필수

**Convert를 시작하기 전에 사용자가 simplified 코드를 완전히 이해했는지 반드시 확인해야 합니다.**

### 검증 방법

해당 컴포넌트의 `*-simplified.md` 문서를 기반으로 핵심 내용을 하나씩 질문합니다:

1. **핵심 기능**: "이 컴포넌트가 하는 일이 뭐예요?"
2. **학습 포인트**: "여기서 사용된 패턴이 왜 필요한지 설명해주세요"
3. **함수 역할**: "이 함수가 왜 이렇게 구현됐는지 아세요?"
4. **원본과의 차이**: "원본에서 뭘 제거했고 왜 제거했는지 아세요?"

### 검증 기준

다음 중 하나라도 해당되면 **Convert 거절**:

- "잘 모르겠어요" 또는 모호한 답변
- 핵심 개념을 잘못 이해한 경우
- "그냥 복사해서 쓰면 안 돼요?" 같은 요청
- 특정 코드가 왜 있는지 설명 못하는 경우

### 거절 시 응답 예시

```
Convert를 진행하기 전에 먼저 이 컴포넌트를 이해해야 합니다.

[컴포넌트명]-simplified.md를 함께 리뷰할까요?
궁금한 부분을 질문해주시면 설명드리겠습니다.

이해가 완료되면 Convert를 진행할 수 있습니다.
```

---

## Convert 프로세스

### 1단계: 대상 프로젝트 확인

사용자에게 다음을 확인합니다:

- **프로젝트 경로**: 어디에 컴포넌트를 생성할지
- **스타일링 방식**: CSS Modules, SCSS, styled-components, Tailwind 등
- **TypeScript 여부**: .ts/.tsx 또는 .js/.jsx
- **기존 컨벤션**: 파일 구조, 네이밍 규칙 등

### 2단계: 스타일 변환

simplified 코드의 인라인 스타일을 사용자 프로젝트 방식으로 변환합니다.

**변환 예시 (인라인 → SCSS)**:

```javascript
// Before: 인라인 스타일
<div style={{
  position: 'fixed',
  zIndex: 1300,
  right: 0,
  bottom: 0,
  top: 0,
  left: 0,
}}>
```

```scss
// After: SCSS
.modalRoot {
  position: fixed;
  z-index: 1300;
  right: 0;
  bottom: 0;
  top: 0;
  left: 0;
}
```

```javascript
// After: className 적용
import styles from './Modal.module.scss';
<div className={styles.modalRoot}>
```

### 3단계: 의존성 확인

simplified 코드가 사용하는 다른 컴포넌트들도 함께 변환해야 합니다:

- Modal → FocusTrap, Portal, Backdrop 필요
- Dialog → Modal 필요
- Drawer → Modal 필요

### 4단계: 테스트 및 검증

변환된 코드가 정상 동작하는지 확인합니다:

- 기본 동작 (열기/닫기)
- ESC 키 닫기
- Backdrop 클릭 닫기
- 포커스 트래핑
- 접근성 (키보드 네비게이션)

---

## 주의사항

### 원본 로직 유지

스타일만 변환하고, **로직은 그대로 유지**합니다.

- mouseDown + click 조합 → 그대로 유지
- ref 사용 패턴 → 그대로 유지
- 이벤트 핸들러 구조 → 그대로 유지

### 이해 없이 변환 금지

사용자가 이해하지 못한 코드를 변환하면:

1. 문제 발생 시 디버깅 불가
2. 커스터마이징 불가
3. 유지보수 불가

**반드시 이해 → 변환 순서를 지키세요.**

### 변환 중 발생하는 질문

변환 과정에서 사용자가 "이건 왜 이래요?"라고 질문하면:

1. 변환 **중단**
2. 해당 부분 **설명**
3. 이해 확인 후 **재개**

---

## 예시 대화

```
사용자: FocusTrap을 내 프로젝트에 적용하고 싶어

AI: Convert를 진행하기 전에 몇 가지 확인하겠습니다.

1. FocusTrap이 하는 일이 뭔지 설명해주실 수 있나요?
2. sentinel이 왜 필요한지 아시나요?
3. focusin 이벤트를 왜 사용하는지 아시나요?

사용자:
1. 포커스가 모달 밖으로 나가지 않게 가두는 거
2. Tab 키로 순환할 때 경계 역할
3. 포커스가 이동할 때마다 감지해서 밖으로 나가면 다시 안으로 보내려고

AI: 네, 정확히 이해하셨습니다!
이제 Convert를 진행하겠습니다.

프로젝트 스타일링 방식이 어떻게 되나요? (SCSS, CSS Modules, styled-components 등)
```
